"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),_get=function(e,t,a){for(var s=!0;s;){var r=e,o=t,n=a;i=y=u=void 0,s=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,o);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(n)}var y=Object.getPrototypeOf(r);if(null===y)return void 0;e=y,t=o,a=n,s=!0}},React=require("react"),classNames=require("classnames"),EasyDay=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.labels=[],this.state={bitmask:0}}return _inherits(t,e),_createClass(t,null,[{key:"defaultProps",value:{days:0,useDarkTheme:!1,showLetters:!0,showLongNames:!1,showShortNames:!1,maxSelectedDays:7,minSelectedDays:0,onChange:function(){}},enumerable:!0},{key:"propTypes",value:{days:React.PropTypes.oneOfType([React.PropTypes.number,React.PropTypes.array,React.PropTypes.object]),useDarkTheme:React.PropTypes.bool,showLetters:React.PropTypes.bool,showLongNames:React.PropTypes.bool,showShortNames:React.PropTypes.bool,maxSelectedDays:React.PropTypes.number,minSelectedDays:React.PropTypes.number,onChange:React.PropTypes.func},enumerable:!0},{key:"dayLetters",value:["S","M","T","W","T","F","S"],enumerable:!0},{key:"longDayNames",value:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],enumerable:!0},{key:"shortDayNames",value:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."],enumerable:!0}]),_createClass(t,[{key:"componentDidMount",value:function(){if(this.props.minSelectedDays>this.props.maxSelectedDays)throw new Error("EasyDay cannot have a minimum selected amount that is greater than its maximum selected amount.");this.labels=this.props.showLetters?t.dayLetters:this.props.showLongNames?t.longDayNames:t.shortDayNames;var e=0;switch(typeof this.props.days){case"number":e=this.props.days;break;case"array":e=t.dayArrayToBitmask(this.props.days);break;case"object":e=t.dayObjectToBitmask(this.props.days)}this.setState({bitmask:e})}},{key:"isDaySet",value:function(e){return(this.state.bitmask&Math.pow(2,e))>0}},{key:"toggleDay",value:function(e){var a=void 0;if(1==this.props.maxSelectedDays)a=Math.pow(2,e),a==this.state.bitmask&&(a=0),this.setState({bitmask:a},this.handleChange);else{a=this.state.bitmask^=1<<e;var s=t.countSetBytes(a);s<=this.props.maxSelectedDays&&s>=this.props.minSelectedDays&&this.setState({bitmask:a},this.handleChange)}}},{key:"handleChange",value:function(){this.props.onChange(this.state.bitmask)}},{key:"render",value:function(){var e=this,a=t.dayLetters.map(function(t,a){var s=e.isDaySet(a)?"checked":"";return React.createElement("div",{className:"day",key:""+a},React.createElement("div",{className:"inner "+s,onClick:e.toggleDay.bind(e,a)},e.labels[a]))},this),s=classNames("easy-day",{light:!this.props.useDarkTheme,dark:this.props.useDarkTheme});return React.createElement("div",{className:s},React.createElement("div",{className:"days"},a))}}],[{key:"dayObjectToBitmask",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t={sunday:0,monday:0,tuesday:0,wednesday:0,thursday:0,friday:0,saturday:0};e=_extends({},t,e);var a=0;return a+=1*e.sunday,a+=2*e.monday,a+=4*e.tuesday,a+=8*e.wednesday,a+=16*e.thursday,a+=32*e.friday,a+=64*e.saturday}},{key:"countSetBytes",value:function(e){for(var t=0,a=7;a--;)t+=1*((e&Math.pow(2,a))>0);return t}},{key:"dayArrayToBitmask",value:function(e){var t=0;return e.map(function(e,a){t+=e*Math.pow(2,a)}),t}}]),t}(React.Component);exports["default"]=EasyDay,module.exports=exports["default"];